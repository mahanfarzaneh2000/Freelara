{% extends "pages/base.html" %}
{% block title %}Profile{% endblock %}
{% block body %}
<div class="mx-5 sm:mx-10 md:mx-20 md:grid grid-cols-12 gap-5 md:gap-12">
  <div class="mt-10 py-3 col-start-1 col-span-6 lg:col-span-3 rounded-md dark:bg-brand-card-dark bg-brand-card flex flex-col" style="height: fit-content;">
    <img class="mx-auto rounded-full mt-5" src="{{user.profile.profile_pic.url}}" alt="" style="width: 100px;height: 100px;object-fit: cover;">
    <h4 class="mt-1 font-semibold text-center dark:text-gray-200">{{user.user_name}}</h4>
    <span class="mx-auto">
      <i class="fa fa-star text-yellow-500 text-sm"></i>
      <i class="fa fa-star text-yellow-500 text-sm"></i>
      <i class="fa fa-star text-yellow-500 text-sm"></i>
      <i class="fa fa-star text-yellow-500 text-sm"></i>
      <i class="fa fa-star text-yellow-500 text-sm"></i>
      <span class="ml-1 text-yellow-500">4.6 </span><span class="text-sm opacity-60">(129)</span>
    </span>
    <h5 class="px-3 mt-2 text-center text-thin text-sm">{{user.profile.bio}}</h5>
    <div class="flex">
      <a class="mt-2 mx-auto px-3 py-2 bg-brand-gradientBottom text-center text-white" href="">Message</a>
    </div>
    <div class="mt-3 flex flex-col mx-8">
      <div class="py-1 flex justify-between">
        <h3 class="text-sm lg:text-md">First name:</h3>
        <h3 class="text-sm lg:text-md">{{user.first_name}}</h3>
      </div>
      <div class="py-1 flex justify-between">
        <h3 class="text-sm lg:text-md">Last name:</h3>
        <h3 class="text-sm lg:text-md">{{user.last_name}}</h3>
      </div>
      <div class="py-1 flex justify-between">
        <h3 class="text-sm lg:text-md">Joined since:</h3>
        <h3 class="text-sm lg:text-md">{{user.created_at.date}}</h3>
      </div>
      <div class="py-1 flex justify-between">
        <h3 class="text-sm lg:text-md">Degree:</h3>
        <h3 class="text-sm lg:text-md">{{user.profile.degree}}</h3>
      </div>
      <div class="py-1 flex justify-between">
        <h3 class="text-sm lg:text-md">Birthday:</h3>
        <h3 class="text-sm lg:text-md">{{user.profile.birthday}}</h3>
      </div>
    </div>
  </div>
  <div class="col-span-6 lg:col-span-8">
    <h3 class="my-10 text-xl font-semibold dark:text-gray-300">{{user.user_name}}'s Gigs</h3>
    <div class="grid gap-3 grid-cols-1 lg:grid-cols-2 xl:grid-cols-3">
      {% for gig  in gigs  %}
        <div class="flex flex-col justify-between bg-brand-card mb-3 pb-4 rounded-md">
          <div class="">
            <img class="w-full" src="{{gig.get_showcase.url}}" alt="" style="height: 150px;object-fit: cover;">
            <div class="flex flex-col px-3 flex-grow mt-3">
              <div class="">
                <div class="flex items-center space-x-2 mb-2">
                  <img class="rounded-full" src="{{gig.user.profile.profile_pic.url}}" alt="" style="width:35px; height: 35px; object-fit: cover;">
                  <div>
                    <p class="font-thin">{{gig.user.user_name}}</p>
                    <p class="text-sm opacity-60">Level {{gig.experience}} Freelancer</p>
                  </div>
                </div>
                <a href="{% url 'gig_detail' gig.id %}" style="-webkit-line-clamp: 2;text-overflow: ellipsis;overflow: hidden;display: -webkit-box;-webkit-box-orient: vertical;word-wrap: break-word;"><h3 class="font-serif text-lg">{{gig.title}}</h3></a>
                <small class="bg-blue-600 px-2 pb-0.5 text-white rounded-full text-opacity-80">{{gig.category}}</small>
              </div>
            </div>   
          </div>
          <div class="px-3 mt-2">
            <i class="fa fa-star text-yellow-500"></i><span class="ml-1 text-yellow-500">4.6 </span><span class="text-sm opacity-60">(129)</span>
            <hr>
            <div class="flex justify-between items-center">
              <p class="text-sm">starting at <span class="text-lg">{{gig.get_lowest_plan_price}}$</span></p>
              <div class="">
                <a class="ml-1" href="#"><i class="fas fa-bell"></i></a>
                <a class="ml-1" href="#"><i class="fas fa-bell"></i></a>
              </div>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}